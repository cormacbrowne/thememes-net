{"ast":null,"code":"import React,{useState,useEffect}from'react';import{supabase}from'./supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[memes,setMemes]=useState([]);const[file,setFile]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{fetchMemes();},[]);const fetchMemes=async()=>{setLoading(true);const{data,error}=await supabase.from('memes').select('*').order('likes',{ascending:false});if(!error)setMemes(data);setLoading(false);};const handleUpload=async()=>{if(!file)return;setLoading(true);const fileExt=file.name.split('.').pop();const fileName=`${Date.now()}.${fileExt}`;const{error:uploadError}=await supabase.storage.from('memes').upload(fileName,file);if(uploadError)return console.error(uploadError);const{data:publicData}=supabase.storage.from('memes').getPublicUrl(fileName);const meme={title:file.name,image_url:publicData.publicUrl,likes:0};await supabase.from('memes').insert([meme]);await fetchMemes();setFile(null);setLoading(false);};const handleLike=async(id,currentLikes)=>{await supabase.from('memes').update({likes:currentLikes+1}).eq('id',id);fetchMemes();};const topMeme=memes[0];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'3rem',margin:'1rem 0',color:'#ff69b4'},children:\"theMEMES.net\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload your chaos. Rate the madness.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading,style:{marginLeft:'1rem'},children:\"Upload Meme\"}),topMeme&&/*#__PURE__*/_jsxs(\"section\",{style:{margin:'2rem 0'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Top Meme of the Week\"}),/*#__PURE__*/_jsx(\"img\",{src:topMeme.image_url,alt:topMeme.title,style:{maxWidth:'300px'}}),/*#__PURE__*/_jsx(\"p\",{children:topMeme.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2764\\uFE0F \",topMeme.likes,\" Likes\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"All Memes\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',justifyContent:'center'},children:memes.map(meme=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',margin:'1rem',padding:'1rem',borderRadius:'10px',width:'300px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:meme.title}),/*#__PURE__*/_jsx(\"img\",{src:meme.image_url,alt:meme.title,style:{width:'100%',borderRadius:'10px'}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(meme.id,meme.likes),style:{marginTop:'0.5rem'},children:[\"\\u2764\\uFE0F \",meme.likes,\" Likes\"]})]},meme.id))})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","App","memes","setMemes","file","setFile","loading","setLoading","fetchMemes","data","error","from","select","order","ascending","handleUpload","fileExt","name","split","pop","fileName","Date","now","uploadError","storage","upload","console","publicData","getPublicUrl","meme","title","image_url","publicUrl","likes","insert","handleLike","id","currentLikes","update","eq","topMeme","style","padding","minHeight","children","fontSize","margin","color","type","onChange","e","target","files","onClick","disabled","marginLeft","src","alt","maxWidth","display","flexWrap","justifyContent","map","background","borderRadius","width","marginTop"],"sources":["C:/Users/corma/OneDrive/1 WORK/PROJECTS/OTHER/1902 - TheMemes/WEBSITE/thememes-net/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';\n\nfunction App() {\n  const [memes, setMemes] = useState([]);\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchMemes();\n  }, []);\n\n  const fetchMemes = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from('memes')\n      .select('*')\n      .order('likes', { ascending: false });\n    if (!error) setMemes(data);\n    setLoading(false);\n  };\n\n  const handleUpload = async () => {\n    if (!file) return;\n    setLoading(true);\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}.${fileExt}`;\n    const { error: uploadError } = await supabase.storage\n      .from('memes')\n      .upload(fileName, file);\n    if (uploadError) return console.error(uploadError);\n    const { data: publicData } = supabase\n      .storage\n      .from('memes')\n      .getPublicUrl(fileName);\n    const meme = {\n      title: file.name,\n      image_url: publicData.publicUrl,\n      likes: 0,\n    };\n    await supabase.from('memes').insert([meme]);\n    await fetchMemes();\n    setFile(null);\n    setLoading(false);\n  };\n\n  const handleLike = async (id, currentLikes) => {\n    await supabase\n      .from('memes')\n      .update({ likes: currentLikes + 1 })\n      .eq('id', id);\n    fetchMemes();\n  };\n\n  const topMeme = memes[0];\n\n  return (\n    <div style={{ padding: '1rem', minHeight: '100vh' }}>\n      <h1 style={{ fontSize: '3rem', margin: '1rem 0', color: '#ff69b4' }}>theMEMES.net</h1>\n      <p>Upload your chaos. Rate the madness.</p>\n      <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\n      <button onClick={handleUpload} disabled={loading} style={{ marginLeft: '1rem' }}>\n        Upload Meme\n      </button>\n      {topMeme && (\n        <section style={{ margin: '2rem 0' }}>\n          <h2>Top Meme of the Week</h2>\n          <img src={topMeme.image_url} alt={topMeme.title} style={{ maxWidth: '300px' }} />\n          <p>{topMeme.title}</p>\n          <p>❤️ {topMeme.likes} Likes</p>\n        </section>\n      )}\n      <hr />\n      <h2>All Memes</h2>\n      <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }}>\n        {memes.map((meme) => (\n          <div key={meme.id} style={{\n            background: '#222',\n            margin: '1rem',\n            padding: '1rem',\n            borderRadius: '10px',\n            width: '300px'\n          }}>\n            <h3>{meme.title}</h3>\n            <img src={meme.image_url} alt={meme.title} style={{ width: '100%', borderRadius: '10px' }} />\n            <button onClick={() => handleLike(meme.id, meme.likes)} style={{ marginTop: '0.5rem' }}>\n              ❤️ {meme.likes} Likes\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}